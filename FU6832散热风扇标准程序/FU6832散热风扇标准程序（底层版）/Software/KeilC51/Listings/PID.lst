C51 COMPILER V9.53.0.0   PID                                                               04/09/2024 13:54:58 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE PID
OBJECT MODULE PLACED IN .\Objects\PID.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE ..\User\source\Hardware\PID.c LARGE OMF2 OPTIMIZE(8,SPEED) BROWSE INCDIR
                    -(..\FU68xx_Hardware_Driver\Include;..\User\include) DEBUG PRINT(.\Listings\PID.lst) TABS(2) OBJECT(.\Objects\PID.obj)

line level    source

   1          /* --------------------------- (C) COPYRIGHT 2020 Fortiortech ShenZhen -----------------------------
   2              File Name      : PID.c
   3              Author         : Fortiortech  Appliction Team
   4              Version        : V1.0
   5              Date           : 2020-04-11
   6              Description    : This file contains PI initial function used for Motor Control.
   7          ----------------------------------------------------------------------------------------------------  
   8                                                 All Rights Reserved
   9          ------------------------------------------------------------------------------------------------- */
  10          /* Includes -------------------------------------------------------------------------------------*/
  11          #include "FU68xx_4.h"
  12          #include "MyProject.h"
  13          /*
  14          void PI_Init(void)
  15          {
  16              PI0_KP  = SKP;
  17              PI0_KI  = SKI;
  18              PI0_UKH = 0;
  19              PI0_UKL = 0;
  20              PI0_EK  = 0;
  21              PI0_EK1 = 0;
  22              PI0_UKMAX = SOUTMAX;
  23              PI0_UKMIN = SOUTMIN;
  24              SetBit(PI_CR , PI0STA);          // Start PI
  25              while (ReadBit(PI_CR , PIBSY));
  26          }
  27          */
  28          /*
  29          void PI_Init(void)
  30          {
  31              PI1_KP  = SKP;
  32              PI1_KI  = SKI;
  33              PI1_UKH = 0;
  34              PI1_UKL = 0;
  35              PI1_EK  = 0;
  36              PI1_EK1 = 0;
  37              PI1_UKMAX = SOUTMAX;
  38              PI1_UKMIN = SOUTMIN;
  39              SetBit(PI_CR , PI1STA);          // Start PI
  40              while (ReadBit(PI_CR , PIBSY));
  41          }
  42          */
  43          /*
  44          void PI_Init(void)
  45          {
  46              PI2_KP  = SKP;
  47              PI2_KI  = SKI;
  48              PI2_UKH = 0;
  49              PI2_UKL = 0;
  50              PI2_EK  = 0;
  51              PI2_EK1 = 0;
  52              PI2_KD = 0x05;
  53              PI2_EK2 = 0;
  54              PI2_UKMAX = SOUTMAX;
C51 COMPILER V9.53.0.0   PID                                                               04/09/2024 13:54:58 PAGE 2   

  55              PI2_UKMIN = SOUTMIN;
  56              SetBit(PI_CR , PI2STA);          // Start PI
  57              while (ReadBit(PI_CR , PIBSY));
  58          }
  59          */
  60          void PI_Init(void)
  61          {
  62   1        #if (OUTLOOP_Enable == 1)
  63   1        {
  64   2          
  65   2          PI3_KP  = SPEED_KP;   //SKP;
  66   2          PI3_KI  = SPEED_KI;   //SKI;
  67   2          PI3_UKH = 0;
  68   2          PI3_UKL = 0;
  69   2          PI3_EK  = 0;
  70   2          PI3_EK1 = 0;
  71   2      //    PI3_KD = SPEED_KD;
  72   2          PI3_EK2 = 0;
  73   2          PI3_UKMAX = SOUTMAX;
  74   2          PI3_UKMIN = SOUTMIN;
  75   2        }
  76   1        #elif (OUTLOOP_Enable == 0)
                {
                  PI3_KP  = DQKP;
                  PI3_KI  = DQKI;
                }
                #endif  
  82   1        SetBit(PI_CR , PI3STA);
  83   1        while (ReadBit(PI_CR , PIBSY));
  84   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     73    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
